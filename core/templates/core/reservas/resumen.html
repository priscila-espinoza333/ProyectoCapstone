{# core/templates/core/reservas/resumen.html #}
{% extends "core/base.html" %}
{% load static %}
{% block title %}Resumen de reserva{% endblock %}

{% block content %}
<div class="container py-5">

  <div class="text-center mb-4">
    <h1 class="brand-title">
      <span class="brand-match">RESUMEN</span> <span class="brand-play">RESERVA</span>
    </h1>
    <p class="text-muted m-0">Confirma los datos antes de finalizar.</p>
  </div>

  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="mb-3">Detalles</h5>

          <ul class="list-group list-group-flush mb-3">
            <li class="list-group-item d-flex justify-content-between">
              <span>Cancha</span>
              <strong>{{ reserva.cancha.nombre }} ({{ reserva.cancha.get_deporte_display }})</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Recinto</span>
              <strong>{{ reserva.cancha.recinto.nombre }}</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Fecha</span>
              <strong>{{ reserva.fecha_hora_inicio|date:"d/m/Y" }}</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Horario</span>
              <strong>{{ reserva.fecha_hora_inicio|time:"H:i" }} – {{ reserva.fecha_hora_fin|time:"H:i" }}</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>Total</span>
              <strong>${{ reserva.precio_total|floatformat:0 }}</strong>
            </li>
          </ul>

          <div class="d-flex gap-2 justify-content-end">
            <a class="btn btn-outline-secondary" href="{% url 'cancha_detalle' reserva.cancha.id %}">Volver</a>
            <form method="post" action="{% url 'reservas_confirmar' reserva_id=reserva.id %}">
              {% csrf_token %}
              <!--<button type="submit" class="btn btn-primary">Confirmar reserva</button>-->
            </form>
            <!--<button type="submit" href="{% url 'pago_reserva' reserva.id %}" class="btn btn-primary">Ir a pagar</button>-->
            <a href="{% url 'pago_reserva' reserva.id %}" class="btn btn-success">Ir a pagar</a>
          </div>
        </div>
      </div>

      <p class="text-center text-muted mt-3 mb-0 small">
        Al confirmar aceptas nuestras políticas de uso y cancelación.
      </p>
    </div>
  </div>

</div>
{% endblock %}
