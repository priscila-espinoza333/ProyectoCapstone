{% extends "core/base.html" %}
{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container py-5 text-center" style="max-width:600px;">
  <div class="card shadow-sm p-4 border-0">
    <h1 class="text-danger mb-3">
      <i class="bi bi-exclamation-triangle-fill"></i> {{ title }}
    </h1>

    <!-- Aquí va la lógica condicional -->
    {% if "CSRF cookie not set" in reason %}
      <p class="lead">
        Parece que tu navegador bloqueó las cookies necesarias.  
        Actívalas e inténtalo otra vez.
      </p>
    {% elif "Referer checking failed" in reason %}
      <p class="lead">
        Tu sesión no coincide con el origen de la solicitud.  
        Por favor, recarga la página.
      </p>
    {% else %}
      <p class="lead">
        Por seguridad, tu sesión ha expirado o el formulario ya no es válido.  
        Vuelve a intentarlo.
      </p>
    {% endif %}

    {% if reason %}
      <p class="text-muted small mt-2">Detalles técnicos: {{ reason }}</p>
    {% endif %}

    <div class="mt-4">
      <a href="{% url 'index' %}" class="btn btn-gold">
        Volver al inicio
      </a>
      <button class="btn btn-outline-secondary ms-2" onclick="window.location.reload();">
        Reintentar
      </button>
    </div>
  </div>
</div>
{% endblock %}
