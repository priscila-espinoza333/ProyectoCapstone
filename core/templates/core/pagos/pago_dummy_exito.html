{% extends "core/base.html" %}

{% block content %}
<div class="container py-5">
  <div class="text-center mb-4">
    <h2 class="text-success fw-bold">
      <i class="bi bi-check-circle-fill"></i> Pago simulado exitoso
    </h2>
    <p class="lead mt-3">
      Tu pago fue registrado en modo prueba.  
      El carrito #{{ carrito.id }} ha sido marcado como pagado y se generaron las reservas.
    </p>
  </div>

  {% if reservas_creadas %}
    <h4 class="mb-3">Reservas creadas</h4>
    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead>
          <tr>
            <th>Cancha</th>
            <th>Fecha</th>
            <th>Hora inicio</th>
            <th>Hora fin</th>
            <th>Precio</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          {% for r in reservas_creadas %}
            <tr>
              <td>{{ r.cancha }}</td>
              <td>{{ r.fecha }}</td>
              <td>{{ r.hora_inicio }}</td>
              <td>{{ r.hora_fin }}</td>
              <td>${{ r.precio_total }}</td>
              <td>
                <span class="badge bg-success">{{ r.estado }}</span>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}

  <div class="text-center mt-4">
    <a href="{% url 'mis_reservas' %}" class="btn btn-primary">
      Ver mis reservas
    </a>
  </div>
</div>
{% endblock %}
